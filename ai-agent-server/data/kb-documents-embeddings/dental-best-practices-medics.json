{
  "id": "dental-best-practices-medics",
  "title": "Best Practices: medics",
  "text": "# Best Practices: medics\n\n**Document Type:** best-practices\n**Category:** medics\n**Business Type:** dental\n\n---\n\n## CÂMPURI OBLIGATORII:\n\n- ✅ **medicName** este OBLIGATORIU pentru toate operațiunile\n- ✅ **canTakeAppointments** - Verifică ÎNTOTDEAUNA înainte de a asigna programări!\n\n## REGULI CRITICE PENTRU PROGRAMĂRI:\n\n### ⚠️ CRITICAL: canTakeAppointments\n\n**VERIFICĂ ÎNTOTDEAUNA înainte de a crea o programare:**\n- Medicul TREBUIE să aibă `canTakeAppointments: true`\n- Dacă `canTakeAppointments: false`, medicul NU POATE primi programări\n- Default este `true` pentru backward compatibility\n\n**Când listezi medici pentru programări:**\n```\nquery_resources(\n  resourceType: 'medic',\n  action: 'list',\n  params: {\n    'data.canTakeAppointments': true  // FILTREAZĂ DOAR medicii activi!\n  }\n)\n```\n\n**Cazuri când canTakeAppointments: false:**\n- Medic în concediu\n- Medic care nu mai lucrează în clinică\n- Medic care nu primește programări online\n- Personal non-medical (asistenti, registratori)\n- Medic temporar indisponibil\n\n## DUTY DAYS (Zile de Lucru):\n\n- **dutyDays** ajută la planificarea programărilor\n- Verifică că medicul lucrează în ziua dorită pentru programare\n- Format: array de string-uri (Luni, Marți, Miercuri, Joi, Vineri, Sâmbătă, Duminică)\n- Suportă ambele limbi: română și engleză\n- Suportă cu și fără diacritice\n\n## ROLE:\n\n- **Role** poate fi: Administrator, Medic, Asistent, Registrator, etc.\n- Rolul NU determină automat dacă poate primi programări\n- Folosește `canTakeAppointments` pentru a controla accesul la programări\n\n## SPECIALIZARE:\n\n- **specialization** ajută la căutarea medicilor după specializare\n- Exemple: Ortodonție, Chirurgie Orală, Implantologie, Endodonție, Parodontologie\n\n## WORKFLOW PENTRU ASIGNAREA MEDICILOR:\n\n### Pas 1: Listează medici disponibili\n```\nquery_resources(\n  resourceType: 'medic',\n  action: 'list',\n  params: {\n    'data.canTakeAppointments': true  // IMPORTANT!\n  }\n)\n```\n\n### Pas 2: Verifică duty days\n- Filtrează medicii care lucrează în ziua dorită\n- Verifică dutyDays array-ul\n\n### Pas 3: Verifică disponibilitate\n- Query programările existente pentru medicul selectat\n- Verifică că nu există suprapuneri de program\n\n### Pas 4: Asignează medicul\n- DOAR dacă toate verificările sunt OK\n\n## CĂUTARE DUPĂ CÂMPURI NESTED:\n\n- `data.medicName` - Numele medicului\n- `data.canTakeAppointments` - Status disponibilitate programări\n- `data.userId` - ID-ul user-ului asociat\n- `data.specialization` - Specializarea\n- `data.dutyDays` - Zilele de lucru (array)\n\n## GREȘELI COMUNE - NU FACE:\n\n❌ Să asignezi medic la programare fără să verifici canTakeAppointments\n❌ Să presupui că toți medicii pot primi programări\n❌ Să ignori dutyDays când asignezi programări\n❌ Să folosești role pentru a determina dacă poate primi programări (folosește canTakeAppointments!)\n\n## EXEMPLE:\n\n### ✅ CORECT: Caută medici disponibili pentru programări\n```\nquery_resources(\n  resourceType: 'medic',\n  action: 'list',\n  params: {\n    'data.canTakeAppointments': true\n  }\n)\n```\n\n### ✅ CORECT: Caută medici după specializare care pot primi programări\n```\nquery_resources(\n  resourceType: 'medic',\n  action: 'list',\n  params: {\n    'data.canTakeAppointments': true,\n    'data.specialization': 'Ortodonție'\n  }\n)\n```\n\n### ❌ GREȘIT: Lista toți medicii fără a verifica canTakeAppointments\n```\nquery_resources(\n  resourceType: 'medic',\n  action: 'list'\n)\n// PERICOL: poate include medici care nu pot primi programări!\n```\n\n## AUTO-ASSIGNMENT:\n\n**Când sistemul auto-asignează un medic:**\n1. Query medici cu canTakeAppointments: true\n2. Filtrează după dutyDays (ziua programării)\n3. Verifică disponibilitatea (fără suprapuneri)\n4. Selectează medicul cu cele mai puține programări în ziua respectivă\n\n## TIPS:\n\n1. Verifică ÎNTOTDEAUNA canTakeAppointments înainte de asignare\n2. Când afișezi liste de medici pentru booking, filtrează după canTakeAppointments: true\n3. Informează utilizatorul dacă medicul dorit are canTakeAppointments: false\n4. Folosește dutyDays pentru a optimiza alocarea programărilor\n5. Combină filtrele pentru rezultate precise\n",
  "metadata": {
    "businessType": "dental",
    "version": "2.0.0",
    "lastUpdated": "2025-10-16",
    "type": "best-practices",
    "category": "medics",
    "documentId": "dental-best-practices-medics",
    "source": "dental-knowledge-base"
  }
}
