{
  "id": "dental-conversation-pattern-customerBooking",
  "title": "Conversation Pattern: Pacient/Client vrea sÄƒ facÄƒ o programare",
  "text": "# Conversation Pattern: Pacient/Client vrea sÄƒ facÄƒ o programare\n\n**Document Type:** conversation-pattern\n**Role:** customer\n**Business Type:** dental\n\n---\n\n**Scenario:** Un pacient/client vrea sÄƒ facÄƒ o programare online\n**Workflow:** Optimizat pentru experienÈ›Äƒ rapidÄƒ È™i plÄƒcutÄƒ\n\n## PAÈ˜I PENTRU CREAREA PROGRAMÄ‚RII:\n\n### Step 1: IdentificÄƒ serviciul dorit\n**Action:** ÃnÈ›elege ce serviciu/tratament doreÈ™te pacientul\n**Question:** \"Ce serviciu vÄƒ intereseazÄƒ? (consultaÈ›ie, detartraj, implant, albire, etc.)\"\n\n**Tool:** query_resources\n**Parameters:**\n  - resourceType: 'treatment'\n  - params: { 'data.treatmentName': 'nume_serviciu' } (opÈ›ional, pentru cÄƒutare specificÄƒ)\n\n**Note:** \n- PrezintÄƒ serviciile disponibile cu preÈ›uri È™i durate\n- Fii descriptiv È™i ajutÄƒ pacientul sÄƒ aleagÄƒ\n- SalveazÄƒ serviceId pentru programare\n\n### Step 2: VerificÄƒ disponibilitatea (UN SINGUR APEL!)\n**Action:** ObÈ›ine toate datele È™i orele disponibile\n\n**Tool:** query_patient_booking\n**Parameters:**\n  - action: 'available-dates-with-slots'\n  - params:\n    * from: 'YYYY-MM-DD' (de obicei azi sau mÃ¢ine)\n    * to: 'YYYY-MM-DD' (de obicei 2-4 sÄƒptÄƒmÃ¢ni Ã®n viitor)\n    * serviceId: 'ID_serviciu' (din Step 1)\n\n**Important:**\n- FoloseÈ™te DOAR 'available-dates-with-slots' - cel mai eficient!\n- ObÈ›ii toate datele cu sloturile Ã®n UN SINGUR apel\n- PrezintÄƒ rezultatele organizat pe zile\n\n**Response Format:**\n\"Am gÄƒsit urmÄƒtoarele date È™i ore disponibile:\n- Luni 21 octombrie: 10:00, 14:30, 16:00\n- Miercuri 23 octombrie: 09:00, 11:30, 15:00\n- Vineri 25 octombrie: 10:30, 14:00\nCe datÄƒ È™i orÄƒ vÄƒ convin?\"\n\n### Step 3: ColecteazÄƒ datele pacientului\n**Action:** ObÈ›ine informaÈ›ii de contact pentru confirmare\n**Questions:**\n  1. \"VÄƒ rog sÄƒ-mi spuneÈ›i numele complet\"\n  2. \"Care este email-ul dumneavoastrÄƒ?\" (OBLIGATORIU)\n  3. \"È˜i numÄƒrul de telefon?\" (pentru SMS-uri de reminder)\n\n**Validation:**\n- Email este OBLIGATORIU - fÄƒrÄƒ el nu se poate crea programarea\n- VerificÄƒ formatul email-ului\n- Telefonul este opÈ›ional dar recomandat\n\n### Step 4: CreeazÄƒ programarea\n**Action:** ConfirmÄƒ È™i creeazÄƒ programarea\n\n**Tool:** query_patient_booking\n**Parameters:**\n  - action: 'reserve'\n  - businessId: from_context\n  - locationId: from_context\n  - params:\n    * date: 'YYYY-MM-DD' (aleasÄƒ de pacient)\n    * time: 'HH:mm' (aleasÄƒ de pacient)\n    * serviceId: from_step_1\n    * customer:\n      - name: from_step_3\n      - email: from_step_3 (REQUIRED)\n      - phone: from_step_3\n\n**Important:**\n- VerificÄƒ cÄƒ toate datele sunt corecte Ã®nainte de a crea\n- NU crea programarea dacÄƒ lipseÈ™te email-ul\n- Sistemul va crea/gÄƒsi automat Ã®nregistrarea pacientului\n\n### Step 5: ConfirmÄƒ succesul\n**Action:** InformeazÄƒ pacientul despre programarea creatÄƒ\n\n**Response Format:**\n\"Excelent! Programarea dumneavoastrÄƒ a fost confirmatÄƒ! âœ…\n\nğŸ“… Data: [zi, data]\nğŸ• Ora: [ora]\nğŸ¦· Serviciu: [nume serviciu]\nğŸ‘¤ Pacient: [nume]\nğŸ“§ Email: [email]\nğŸ“± Telefon: [telefon]\n\nVeÈ›i primi un email de confirmare la adresa [email].\nDacÄƒ doriÈ›i sÄƒ modificaÈ›i sau anulaÈ›i programarea, vÄƒ rugÄƒm sÄƒ ne contactaÈ›i.\n\nVÄƒ aÈ™teptÄƒm cu drag!\"\n\n## EXEMPLE COMPLETE:\n\n### Exemplul 1: Flux complet simplu\n\n**User:** \"Vreau sÄƒ fac o programare pentru o consultaÈ›ie\"\n\n**AI Step 1:** [query_resources(resourceType: 'treatment', params: {'data.treatmentName': 'consultaÈ›ie'})]\n\"BunÄƒ ziua! ConsultaÈ›ia stomatologicÄƒ costÄƒ 150 RON È™i dureazÄƒ 30 minute. Include examinare completÄƒ È™i plan de tratament. CÃ¢nd doriÈ›i sÄƒ veniÈ›i?\"\n\n**User:** \"SÄƒptÄƒmÃ¢na viitoare\"\n\n**AI Step 2:** [query_patient_booking(action: 'available-dates-with-slots', params: {from: '2025-10-21', to: '2025-10-27', serviceId: 'T0100001'})]\n\"Perfect! Am gÄƒsit urmÄƒtoarele date È™i ore disponibile:\n- Luni 21 octombrie: 10:00, 14:30, 16:00\n- Miercuri 23 octombrie: 09:00, 11:30, 15:00\n- Vineri 25 octombrie: 10:30, 14:00\nCe datÄƒ È™i orÄƒ vÄƒ convin?\"\n\n**User:** \"Miercuri la 15:00\"\n\n**AI Step 3:** \"Excelent! Pentru a confirma programarea, am nevoie de cÃ¢teva informaÈ›ii:\n1. Numele dumneavoastrÄƒ complet?\"\n\n**User:** \"Maria Ionescu\"\n\n**AI:** \"2. Email-ul dumneavoastrÄƒ?\"\n\n**User:** \"maria.ionescu@example.com\"\n\n**AI:** \"3. È˜i numÄƒrul de telefon?\"\n\n**User:** \"0712345678\"\n\n**AI Step 4:** [query_patient_booking(action: 'reserve', params: {date: '2025-10-23', time: '15:00', serviceId: 'T0100001', customer: {name: 'Maria Ionescu', email: 'maria.ionescu@example.com', phone: '0712345678'}})]\n\n**AI Step 5:** \"Excelent! Programarea dumneavoastrÄƒ a fost confirmatÄƒ! âœ…\n\nğŸ“… Data: Miercuri, 23 octombrie 2025\nğŸ• Ora: 15:00\nğŸ¦· Serviciu: ConsultaÈ›ie stomatologicÄƒ (30 min, 150 RON)\nğŸ‘¤ Pacient: Maria Ionescu\nğŸ“§ Email: maria.ionescu@example.com\nğŸ“± Telefon: 0712345678\n\nVeÈ›i primi un email de confirmare la adresa maria.ionescu@example.com.\nDacÄƒ doriÈ›i sÄƒ modificaÈ›i sau anulaÈ›i programarea, vÄƒ rugÄƒm sÄƒ ne contactaÈ›i.\n\nVÄƒ aÈ™teptÄƒm cu drag!\"\n\n### Exemplul 2: Cu medic specific\n\n**User:** \"Vreau programare la Dr. Popescu pentru detartraj\"\n\n**AI:** [query_resources(resourceType: 'treatment')] + [query_resources(resourceType: 'medic', params: {'data.medicName': 'Popescu', 'data.canTakeAppointments': true})]\n\n**Scenario A - Medic disponibil:**\n\"BunÄƒ ziua! Detartrajul costÄƒ 200 RON È™i dureazÄƒ 45 minute. Dr. Popescu este disponibil. SÄƒ verificÄƒm orele libere. CÃ¢nd doriÈ›i sÄƒ veniÈ›i?\"\n\n**User:** \"Ãn urmÄƒtoarele 2 sÄƒptÄƒmÃ¢ni\"\n\n**AI:** [query_patient_booking(action: 'available-dates-with-slots', params: {from: '2025-10-16', to: '2025-10-30', serviceId: 'T0100005', medicId: 'M0100001'})]\n\"Am gÄƒsit urmÄƒtoarele date cÃ¢nd Dr. Popescu este disponibil:\n- Joi 17 octombrie: 11:00, 16:30\n- MarÈ›i 22 octombrie: 10:00, 14:00\n- Joi 24 octombrie: 09:30, 15:00\nCe datÄƒ preferaÈ›i?\"\n\n[... continuÄƒ cu colectarea datelor È™i crearea programÄƒrii]\n\n**Scenario B - Medic indisponibil (canTakeAppointments: false):**\nAI: [query_resources(resourceType: 'medic', params: {'data.medicName': 'Popescu'})] â†’ gÄƒsit dar canTakeAppointments: false\n\n\"Ãmi pare rÄƒu, dar Dr. Popescu nu poate primi programÄƒri Ã®n acest moment. VÄƒ pot ajuta sÄƒ gÄƒsiÈ›i un alt medic pentru detartraj. Avem disponibili:\n- Dr. Ionescu - specializat Ã®n igienizare dentarÄƒ\n- Dr. Vasilescu - cu experienÈ›Äƒ Ã®n parodontologie\nPreferaÈ›i unul dintre ei, sau doriÈ›i sÄƒ vedeÈ›i toate orele disponibile indiferent de medic?\"\n\n## SITUAÈšII SPECIALE:\n\n### DacÄƒ NU existÄƒ disponibilitate:\n\"Din pÄƒcate, nu am gÄƒsit locuri libere Ã®n perioada solicitatÄƒ pentru acest serviciu. \nCele mai apropiate date disponibile sunt Ã®n [perioada]. VÄƒ intereseazÄƒ, sau preferaÈ›i un alt serviciu?\"\n\n### DacÄƒ pacientul nu are email:\n\"ÃnÈ›eleg, Ã®nsÄƒ pentru a confirma programarea online, email-ul este necesar (pentru confirmare È™i reminder-e). \nDacÄƒ nu aveÈ›i email, vÄƒ recomand sÄƒ sunaÈ›i direct la clinicÄƒ la [numÄƒr telefon] pentru a face programarea telefonic.\"\n\n### DacÄƒ pacientul vrea sÄƒ schimbe ora dupÄƒ ce a ales:\n\"FÄƒrÄƒ probleme! HaideÈ›i sÄƒ cÄƒutÄƒm o altÄƒ datÄƒ È™i orÄƒ care vÄƒ convine mai bine.\"\n[Reiau Step 2 cu query_patient_booking]\n\n## IMPORTANT - NU FACE:\n\nâŒ NU crea programarea fÄƒrÄƒ sÄƒ verifici disponibilitatea mai Ã®ntÃ¢i\nâŒ NU folosi query_resources pentru a vedea programÄƒrile (foloseÈ™te query_patient_booking)\nâŒ NU crea programare fÄƒrÄƒ email\nâŒ NU foloseÈ™ti call_frontend_function - nu ai acces!\nâŒ NU accesezi date despre alÈ›i pacienÈ›i\nâŒ NU oferi diagnostice medicale\n\n## BEST PRACTICES:\n\nâœ… FoloseÈ™te ÃNTOTDEAUNA 'available-dates-with-slots' pentru eficienÈ›Äƒ\nâœ… Fii prietenos È™i rÄƒbdÄƒtor\nâœ… VerificÄƒ cÄƒ ai toate datele Ã®nainte de a crea programarea\nâœ… ConfirmÄƒ programarea cu detalii complete\nâœ… MenÈ›ioneazÄƒ cÄƒ vor primi email de confirmare\nâœ… ExplicÄƒ simplu È™i clar fiecare pas\n",
  "metadata": {
    "businessType": "dental",
    "version": "2.0.0",
    "lastUpdated": "2025-10-16",
    "type": "conversation-pattern",
    "role": "customer",
    "patternKey": "customerBooking",
    "scenario": "Pacient/Client vrea sÄƒ facÄƒ o programare online",
    "documentId": "dental-conversation-pattern-customerBooking",
    "source": "dental-knowledge-base",
    "workflow": {
      "steps": 5,
      "estimatedDuration": "2-3 minutes",
      "toolsUsed": [
        "query_resources",
        "query_patient_booking"
      ]
    }
  }
}

