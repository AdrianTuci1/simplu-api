{
  "id": "dental-query-example-getDentalChartByPatient",
  "title": "Query Example: Obține fișa dentară a unui pacient (2-step workflow)",
  "content": "{\n  \"description\": \"Obține fișa dentară a unui pacient. FLUX OBLIGATORIU: identifică pacientul după nume → obține patientId → caută dental-chart după data.patientId\",\n  \"workflow\": {\n    \"step1\": {\n      \"description\": \"Identifică pacientul după nume\",\n      \"tool\": \"query_resources\",\n      \"parameters\": {\n        \"businessId\": \"{{businessId}}\",\n        \"locationId\": \"{{locationId}}\",\n        \"action\": \"list\",\n        \"resourceType\": \"patient\",\n        \"params\": {\n          \"data.patientName\": \"{{patientName}}\"\n        }\n      },\n      \"output\": \"Extract patientId from result\"\n    },\n    \"step2\": {\n      \"description\": \"Obține fișa dentară folosind patientId\",\n      \"tool\": \"query_resources\",\n      \"parameters\": {\n        \"businessId\": \"{{businessId}}\",\n        \"locationId\": \"{{locationId}}\",\n        \"action\": \"list\",\n        \"resourceType\": \"dental-chart\",\n        \"params\": {\n          \"data.patientId\": \"{{patientId}}\"\n        }\n      },\n      \"note\": \"Fiecare pacient ar trebui să aibă o singură fișă dentară activă\"\n    }\n  },\n  \"examples\": [\n    {\n      \"query\": \"Arată-mi fișa dentară pentru Maria Ionescu\",\n      \"step1\": \"query_resources(patient, params: {data.patientName: 'Maria Ionescu'}) → patientId: P0100123\",\n      \"step2\": \"query_resources(dental-chart, params: {data.patientId: 'P0100123'})\"\n    },\n    {\n      \"query\": \"Ce probleme dentare are Ion Popescu?\",\n      \"step1\": \"query_resources(patient, params: {data.patientName: 'Ion Popescu'}) → patientId: P0100456\",\n      \"step2\": \"query_resources(dental-chart, params: {data.patientId: 'P0100456'})\"\n    }\n  ],\n  \"important\": [\n    \"NU poți căuta direct dental-chart după nume pacient - TREBUIE să folosești data.patientId\",\n    \"FLUX OBLIGATORIU: Identifică pacient → Obține patientId → Caută dental-chart\",\n    \"Consultă fișa dentară înainte de a crea un plan de tratament\",\n    \"Fișa conține informații despre dinți, probleme dentare și tratamente recomandate\",\n    \"Dacă pacientul nu există, oprește-te și informează utilizatorul\"\n  ]\n}",
  "metadata": {
    "businessType": "dental",
    "version": "1.1.0",
    "lastUpdated": "2025-10-14",
    "type": "query-example",
    "exampleKey": "getDentalChartByPatient"
  }
}
