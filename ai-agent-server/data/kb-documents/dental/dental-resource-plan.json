{
  "id": "dental-resource-plan",
  "title": "Resource Type: Plan de Tratament",
  "content": "{\n  \"displayName\": \"Plan de Tratament\",\n  \"description\": \"Plan de tratament cu ordinea și detaliile tratamentelor pentru pacient\",\n  \"resourceIdFormat\": \"pl-XXXXX sau UUID\",\n  \"dataSchema\": {\n    \"patientId\": {\n      \"type\": \"string\",\n      \"required\": true,\n      \"description\": \"ID-ul pacientului (format: pa2510-00005)\"\n    },\n    \"plan\": {\n      \"type\": \"array\",\n      \"required\": true,\n      \"description\": \"Lista tratamentelor în ordinea de execuție\",\n      \"items\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"ID unic pentru acest item (ex: chart-27-tr2510-00004 sau custom-uuid)\"\n        },\n        \"order\": {\n          \"type\": \"number\",\n          \"required\": true,\n          \"description\": \"Ordinea în plan (0, 1, 2, ...)\"\n        },\n        \"treatmentId\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"ID-ul tratamentului din sistem (format: tr2510-00004)\"\n        },\n        \"title\": {\n          \"type\": \"string\",\n          \"required\": true,\n          \"description\": \"Numele tratamentului\"\n        },\n        \"price\": {\n          \"type\": \"number\",\n          \"required\": true,\n          \"description\": \"Prețul tratamentului în RON\"\n        },\n        \"durationMinutes\": {\n          \"type\": \"number\",\n          \"required\": true,\n          \"description\": \"Durata tratamentului în minute\"\n        },\n        \"isFromChart\": {\n          \"type\": \"boolean\",\n          \"required\": true,\n          \"description\": \"Dacă tratamentul provine din fișa dentară\"\n        },\n        \"toothNumber\": {\n          \"type\": \"number\",\n          \"required\": false,\n          \"description\": \"Numărul dintelui (doar dacă isFromChart: true)\"\n        },\n        \"notes\": {\n          \"type\": \"string\",\n          \"required\": false,\n          \"default\": \"\",\n          \"description\": \"Note suplimentare despre tratament\"\n        }\n      }\n    },\n    \"totalPrice\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Prețul total al planului (suma tuturor tratamentelor)\"\n    },\n    \"totalDuration\": {\n      \"type\": \"number\",\n      \"required\": false,\n      \"description\": \"Durata totală estimată în minute\"\n    },\n    \"status\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"draft\",\n        \"proposed\",\n        \"accepted\",\n        \"in_progress\",\n        \"completed\"\n      ],\n      \"default\": \"draft\",\n      \"description\": \"Statusul planului de tratament\"\n    },\n    \"createdAt\": {\n      \"type\": \"string\",\n      \"format\": \"ISO8601\",\n      \"auto\": true\n    },\n    \"updatedAt\": {\n      \"type\": \"string\",\n      \"format\": \"ISO8601\",\n      \"auto\": true\n    }\n  },\n  \"fullResourceExample\": {\n    \"id\": \"B0100001-L0100001-pl-00001\",\n    \"businessId\": \"B0100001\",\n    \"locationId\": \"L0100001\",\n    \"resourceType\": \"plan\",\n    \"resourceId\": \"pl-00001\",\n    \"data\": {\n      \"patientId\": \"pa2510-00005\",\n      \"plan\": [\n        {\n          \"id\": \"chart-27-tr2510-00004\",\n          \"order\": 0,\n          \"treatmentId\": \"tr2510-00004\",\n          \"title\": \"Tratament hidroxid de calciu\",\n          \"price\": 200,\n          \"durationMinutes\": 20,\n          \"isFromChart\": true,\n          \"toothNumber\": 27,\n          \"notes\": \"\"\n        },\n        {\n          \"id\": \"chart-17-tr2510-00003\",\n          \"order\": 1,\n          \"treatmentId\": \"tr2510-00003\",\n          \"title\": \"Gutieră de protecție\",\n          \"price\": 200,\n          \"durationMinutes\": 15,\n          \"isFromChart\": true,\n          \"toothNumber\": 17,\n          \"notes\": \"\"\n        },\n        {\n          \"id\": \"chart-23-tr2510-00005\",\n          \"order\": 2,\n          \"treatmentId\": \"tr2510-00005\",\n          \"title\": \"Reconstructie cu pivot din fibra de sticla\",\n          \"price\": 500,\n          \"durationMinutes\": 45,\n          \"isFromChart\": true,\n          \"toothNumber\": 23,\n          \"notes\": \"\"\n        },\n        {\n          \"id\": \"custom-detartraj-001\",\n          \"order\": 3,\n          \"treatmentId\": \"tr2510-00001\",\n          \"title\": \"Detartraj profesional\",\n          \"price\": 200,\n          \"durationMinutes\": 45,\n          \"isFromChart\": false,\n          \"notes\": \"Recomandat înainte de celelalte tratamente\"\n        }\n      ],\n      \"totalPrice\": 1100,\n      \"totalDuration\": 125,\n      \"status\": \"proposed\",\n      \"createdAt\": \"2025-10-13T23:32:24.096Z\",\n      \"updatedAt\": \"2025-10-13T23:32:24.096Z\"\n    },\n    \"timestamp\": \"2025-10-13T23:32:24.096Z\",\n    \"lastUpdated\": \"2025-10-13T23:32:24.096Z\"\n  },\n  \"dataFieldExample\": {\n    \"patientId\": \"pa2510-00005\",\n    \"plan\": [\n      {\n        \"id\": \"chart-27-tr2510-00004\",\n        \"order\": 0,\n        \"treatmentId\": \"tr2510-00004\",\n        \"title\": \"Tratament hidroxid de calciu\",\n        \"price\": 200,\n        \"durationMinutes\": 20,\n        \"isFromChart\": true,\n        \"toothNumber\": 27,\n        \"notes\": \"\"\n      }\n    ],\n    \"totalPrice\": 200,\n    \"totalDuration\": 20,\n    \"status\": \"draft\"\n  },\n  \"frontendFunctionExample\": {\n    \"functionName\": \"createResource\",\n    \"parameters\": {\n      \"resourceType\": \"plan\",\n      \"data\": {\n        \"patientId\": \"pa2510-00005\",\n        \"plan\": [\n          {\n            \"id\": \"chart-27-tr2510-00004\",\n            \"order\": 0,\n            \"treatmentId\": \"tr2510-00004\",\n            \"title\": \"Tratament hidroxid de calciu\",\n            \"price\": 200,\n            \"durationMinutes\": 20,\n            \"isFromChart\": true,\n            \"toothNumber\": 27,\n            \"notes\": \"\"\n          }\n        ],\n        \"totalPrice\": 200,\n        \"totalDuration\": 20,\n        \"status\": \"draft\"\n      }\n    }\n  },\n  \"usageNotes\": [\n    \"Planul poate include tratamente din fișa dentară (isFromChart: true) și tratamente generale (isFromChart: false)\",\n    \"Ordinea tratamentelor este importantă - folosește câmpul 'order'\",\n    \"Calculează automat totalPrice și totalDuration când adaugi tratamente\",\n    \"Statusul 'proposed' înseamnă că planul a fost trimis pacientului pentru aprobare\",\n    \"Tratamentele din chart au ID format: chart-{toothNumber}-{treatmentId}\",\n    \"Tratamentele generale au ID custom: custom-{description}-{uuid}\"\n  ],\n  \"workflowExample\": {\n    \"description\": \"Flux tipic de lucru cu planul de tratament\",\n    \"steps\": [\n      \"1. Medicul examinează pacientul și completează fișa dentară (dental-chart)\",\n      \"2. Pe baza fișei dentare, AI sau medicul creează un plan de tratament (plan) cu status 'draft'\",\n      \"3. Medicul revizuiește planul, poate adăuga tratamente generale (detartraj, consultații)\",\n      \"4. Reordonează tratamentele în ordinea optimă de execuție\",\n      \"5. Trimite planul pacientului (status devine 'proposed')\",\n      \"6. Pacientul acceptă planul (status devine 'accepted')\",\n      \"7. Pe măsură ce tratamentele sunt efectuate, status devine 'in_progress'\",\n      \"8. Când toate tratamentele sunt finalizate, status devine 'completed'\"\n    ]\n  }\n}",
  "metadata": {
    "businessType": "dental",
    "version": "1.0.0",
    "lastUpdated": "2025-10-10",
    "type": "resource-type",
    "resourceType": "plan",
    "displayName": "Plan de Tratament"
  }
}